@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
	int.TryParse(Context.Session.GetString("BiodataID"), out int dataId);
	
	int.TryParse(Context.Session.GetString("UserID"), out int userId);
	

	Layout = "_ProfileSharedLayout";
}
@model VMPatientProfile
<div class="Card">
	<div class="card mb-3">
		<div class="card-body border-bottom">
			<div class="row">
				<div class="col-sm-10">
					<h5 class="card-title text-primary m-0">Data Pribadi</h5>
				</div>
				<div class="col-sm-2 text-primary">
					<button type="button" data-id="@dataId" title="Edit data pribadi" class="btn btnEditBio p-0 text-primary">
						<h5><i class="ti-pencil"></i> Ubah</h5>
					</button>
				</div>
			</div>
			<hr>
			<div class="row">
				<div class="col-sm-4 text-black">
					Nama
				</div>
				<div class="col-sm-8 text-secondary">
					@Model.Fullname
				</div>
			</div>
			<hr>
			<div class="row">
				<div class="col-sm-4 text-black">
					Tanggal Lahir
				</div>
				<div class="col-sm-8 text-secondary">
					@string.Format("{0:dd-MMM-yyyy}",Model.Dob)
				</div>
			</div>
			<hr>
			<div class="row">
				<div class="col-sm-4 text-black">
					No Handphone
				</div>
				<div class="col-sm-8 text-secondary">
					@Model.MobilePhone
				</div>
			</div>
		</div>
	</div>

	<div class="card mb-3">
		<div class="card-body">
			<h4 class="card-title text-primary m-0">Data Akun</h4>
			<hr>
			<div class="row">
				<div class="col-sm-4 text-black">
					Email
				</div>
				<div class="col-sm-6 text-secondary">
					@ViewBag.Account.Email
				</div>
				<div class="col-sm-2 text-primary">
					<button type="button" data-id="@userId" title="Edit Email" class="btn btnEditEmail p-0 text-primary">
						<h5><i class="ti-pencil"></i> Ubah</h5>
					</button>
				</div>
			</div>
			<hr>
			<div class="row">
				<div class="col-sm-4">
					<h6 class="mb-0">Password</h6>
				</div>
				<div class="col-sm-6 text-secondary">
					@("*".PadLeft(ViewBag.Account.Password.Length, '*'))
				</div>
				<div class="col-sm-2 text-primary">
					<button type="button" data-id="@userId" title="Edit Password" class="btn btnEditPassword p-0 text-primary">
						<h5><i class="ti-pencil"></i> Ubah</h5>
					</button>
				</div>
			</div>
			<hr>
		</div>
	</div>
</div>

<script>

	$(document).ready(function () {
		$(".btnEditBio").click(function () {

			var userBioId = $(this).data("id");
			$("#myModalBody").load("ProfilePatient/PatientEditBio/" + userBioId)
			$("#myModal").modal("show");
		});

		$(".btnEditEmail").click(function () {

			var userBioId = $(this).data("id");
			$("#myModalBody").load("ProfilePatient/PatientEditEmail/" + userBioId)
			$("#myModal").modal("show");
		});

		$(".btnEditPassword").click(function () {

			var userBioId = $(this).data("id");
			$("#myModalBody").load("ProfilePatient/PatientEditPassword/" + userBioId)
			$("#myModal").modal("show");
		})
	});

</script>